<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>URL-Forward Generator</title>
    <link rel="stylesheet" href="style.css">
    <script>
      //we use relative urls for when the domain changes, so we need to prepare the location
      if (window.location.search) window.location.search = ""
      if (window.location.href.endsWith("?")) window.location.href = window.location.href.substring(0, window.location.href.length - 1)
      if (window.location.href.endsWith("generate") && !window.location.href.endsWith("/")) window.location.href += "/"
      if (window.location.href.endsWith("index.html")) window.location.href = window.location.href.substring(0, "index.html".length)
    </script>
    <script src="../common.js"></script>
  </head>

  <body>
    <h1>URL-Forward Generator</h1>
    <p>Input a snippet and select the type to generate a link.</p>
    <br>
    <input type="button" id="import" value="Import from link"><br>
    <br>
    <form id="form" action="javascript:void(0)">
      <div id="inputdiv">
        <label for="input">Input:</label><br>
        <textarea id=input></textarea>
      </div>
      <p id="urlpreview" style="display: none;"></p>
      <br>
      <label for="typediv">Type:</label><br>
      <div id="typediv">
        <input id="radio-redirect" type="radio" name="type" value="r">
        <label for="radio-redirect">Redirect</label>
        <br>
        <input id="radio-script" type="radio" name="type" value="s">
        <label for="radio-script">Script</label>
        <br>
        <input id="radio-iframe" type="radio" name="type" value="i">
        <label for="radio-iframe">iFrame</label>
        <br>
        <input id="radio-text" type="radio" name="type" value="t">
        <label for="radio-text">Text</label>
        <br>
        <input id="radio-html" type="radio" name="type" value="h">
        <label for="radio-html">HTML</label>
        <br>
        <input id="radio-clipboard" type="radio" name="type" value="c">
        <label for="radio-clipboard">Clipboard</label>
        <br>
        <input id="radio-file" type="radio" name="type" value="f">
        <label for="radio-file">File</label>
        <div id="fileupload">
          <br>
          <label for="fileupload-file">Attach file:</label>
          <input type="file" id="fileupload-file" name="file">
        </div>
      </div>
      <label for="title">Title: </label>
      <input id="title" type="text" name="title" value="" placeholder="URL-Forward">
      <br>
      <input type="submit" value="Generate" id="submit">
      <input id="checkbox-autosubmit" type="checkbox" name="autosubmit" value="autosubmit" checked="true">
      <label for="checkbox-autosubmit">Auto generate</label>
    </form>
    <div id=outputdiv style="display: none;">
      <p>Output:</p>
      <p id="lengthwarn" style="display: none;">The generated URL exceeds 2048 characters. Many browsers do not support
        URLs longer than this. We recommend you to shorten your input.</p>
      <textarea id=output></textarea>
      <br>
      <input type="button" id="openlink" value="Open Link">
      <input type="button" id="copylink" value="Copy Output">
      <br>
    </div>
    <script src="generate.js">
    </script>
  </body>

</html>
